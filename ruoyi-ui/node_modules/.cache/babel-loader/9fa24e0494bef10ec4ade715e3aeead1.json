{"remainingRequest":"D:\\workspace\\IdeaProjects\\RuoYi-vue-github\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\IdeaProjects\\RuoYi-vue-github\\ruoyi-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\workspace\\IdeaProjects\\RuoYi-vue-github\\ruoyi-ui\\src\\utils\\request.js","dependencies":[{"path":"D:\\workspace\\IdeaProjects\\RuoYi-vue-github\\ruoyi-ui\\src\\utils\\request.js","mtime":1598162196915},{"path":"D:\\workspace\\IdeaProjects\\RuoYi-vue-github\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\IdeaProjects\\RuoYi-vue-github\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\IdeaProjects\\RuoYi-vue-github\\ruoyi-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\workspace\\\\IdeaProjects\\\\RuoYi-vue-github\\\\ruoyi-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _elementUi = require(\"element-ui\");\n\nvar _store = _interopRequireDefault(require(\"@/store\"));\n\nvar _auth = require(\"@/utils/auth\");\n\n_axios.default.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'; // 创建axios实例\n\nvar service = _axios.default.create({\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\n  baseURL: process.env.VUE_APP_BASE_API,\n  // 超时\n  timeout: 10000\n}); // request拦截器\n\n\nservice.interceptors.request.use(function (config) {\n  if ((0, _auth.getToken)()) {\n    config.headers['Authorization'] = 'Bearer ' + (0, _auth.getToken)(); // 让每个请求携带自定义token 请根据实际情况自行修改\n  }\n\n  return config;\n}, function (error) {\n  console.log(error);\n  Promise.reject(error);\n}); // 响应拦截器\n\nservice.interceptors.response.use(function (res) {\n  var code = res.data.code;\n\n  if (code === 401) {\n    _elementUi.MessageBox.confirm('登录状态已过期，您可以继续留在该页面，或者重新登录', '系统提示', {\n      confirmButtonText: '重新登录',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }).then(function () {\n      _store.default.dispatch('LogOut').then(function () {\n        location.reload(); // 为了重新实例化vue-router对象 避免bug\n      });\n    });\n  } else if (code !== 200) {\n    _elementUi.Notification.error({\n      title: res.data.msg\n    });\n\n    return Promise.reject('error');\n  } else {\n    return res.data;\n  }\n}, function (error) {\n  console.log('err' + error);\n  (0, _elementUi.Message)({\n    message: error.message,\n    type: 'error',\n    duration: 5 * 1000\n  });\n  return Promise.reject(error);\n});\nvar _default = service;\nexports.default = _default;",null]}