{"remainingRequest":"D:\\workspace\\IdeaProjects\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\IdeaProjects\\RuoYi-Vue\\ruoyi-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\workspace\\IdeaProjects\\RuoYi-Vue\\ruoyi-ui\\src\\store\\modules\\permission.js","dependencies":[{"path":"D:\\workspace\\IdeaProjects\\RuoYi-Vue\\ruoyi-ui\\src\\store\\modules\\permission.js","mtime":1581484190875},{"path":"D:\\workspace\\IdeaProjects\\RuoYi-Vue\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\IdeaProjects\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workspace\\IdeaProjects\\RuoYi-Vue\\ruoyi-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\workspace\\\\IdeaProjects\\\\RuoYi-Vue\\\\ruoyi-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.loadView = void 0;\n\nvar _interopRequireWildcard2 = _interopRequireDefault(require(\"D:\\\\workspace\\\\IdeaProjects\\\\RuoYi-Vue\\\\ruoyi-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/interopRequireWildcard\"));\n\nvar _router = require(\"@/router\");\n\nvar _menu = require(\"@/api/menu\");\n\nvar _index = _interopRequireDefault(require(\"@/layout/index\"));\n\nvar permission = {\n  state: {\n    routes: [],\n    addRoutes: []\n  },\n  mutations: {\n    SET_ROUTES: function SET_ROUTES(state, routes) {\n      state.addRoutes = routes;\n      state.routes = _router.constantRoutes.concat(routes);\n    }\n  },\n  actions: {\n    // 生成路由\n    GenerateRoutes: function GenerateRoutes(_ref) {\n      var commit = _ref.commit;\n      return new Promise(function (resolve) {\n        // 向后端请求路由数据\n        (0, _menu.getRouters)().then(function (res) {\n          var accessedRoutes = filterAsyncRouter(res.data);\n          accessedRoutes.push({\n            path: '*',\n            redirect: '/404',\n            hidden: true\n          });\n          commit('SET_ROUTES', accessedRoutes);\n          resolve(accessedRoutes);\n        });\n      });\n    }\n  }\n}; // 遍历后台传来的路由字符串，转换为组件对象\n\nfunction filterAsyncRouter(asyncRouterMap) {\n  return asyncRouterMap.filter(function (route) {\n    if (route.component) {\n      // Layout组件特殊处理\n      if (route.component === 'Layout') {\n        route.component = _index.default;\n      } else {\n        route.component = loadView(route.component);\n      }\n    }\n\n    if (route.children != null && route.children && route.children.length) {\n      route.children = filterAsyncRouter(route.children);\n    }\n\n    return true;\n  });\n}\n\nvar loadView = function loadView(view) {\n  // 路由懒加载\n  return function () {\n    return Promise.resolve().then(function () {\n      return (0, _interopRequireWildcard2.default)(require(\"@/views/\".concat(view)));\n    });\n  };\n};\n\nexports.loadView = loadView;\nvar _default = permission;\nexports.default = _default;",null]}